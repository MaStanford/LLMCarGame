[
  {
    "assignees": [],
    "body": "- **Description:** Currently, weapons always fire in the direction the car is facing. This limits combat depth. We want to allow players to aim weapons independently of their driving direction.\n    - **Requirements:**\n        - [ ] Implement keybindings (e.g., `[` and `]`) to rotate the active weapon's aim clockwise and counter-clockwise.\n        - [ ] Add a `swivel_speed` attribute to weapons, which can scale with weapon quality or player skills.\n        - [ ] (Optional) Mouse Aiming: Allow the mouse cursor to define the aim target. The weapon should rotate towards the cursor at its defined swivel speed.\n        - [ ] Update `renderer.py` to draw the weapon sprite rotated relative to the car's body.\n        - [ ] Update `Projectile` spawning logic to use the weapon's current swivel angle instead of the car's heading.\n\n**Section:** Open Tasks",
    "createdAt": "2026-02-08T06:26:39Z",
    "labels": [
      {
        "id": "LA_kwDOPJWUzc8AAAACXZh1rQ",
        "name": "task",
        "description": "",
        "color": "ededed"
      }
    ],
    "number": 65,
    "state": "OPEN",
    "title": "Weapon Swivel System",
    "updatedAt": "2026-02-08T06:26:39Z"
  },
  {
    "assignees": [],
    "body": "- **Description:** Important cities (especially Hub cities or high-level faction capitals) should be defended by more than just spawning cars. They need permanent, stationary defensive structures.\n    - **Requirements:**\n        - [ ] Create a new entity class `StaticDefense` inheriting from `Entity`.\n        - [ ] Implement at least 3 types:\n            - **Machine Gun Tower:** High fire rate, low damage, medium range.\n            - **Flamethrower Turret:** Short range, high damage dot, area denial.\n            - **Barbed Wire/Barricade:** Impassable, causes contact damage, high health.\n        - [ ] Update `city_generation.py` to place these defenses around the perimeter or key points of cities based on `reputation` or `city_level`.\n        - [ ] Defenses should be hostile to players with low reputation with the owning faction.\n\n**Section:** Open Tasks",
    "createdAt": "2026-02-08T06:26:41Z",
    "labels": [
      {
        "id": "LA_kwDOPJWUzc8AAAACXZh1rQ",
        "name": "task",
        "description": "",
        "color": "ededed"
      }
    ],
    "number": 66,
    "state": "OPEN",
    "title": "Hub City Static Defenses",
    "updatedAt": "2026-02-08T06:26:41Z"
  },
  {
    "assignees": [],
    "body": "- **Description:** Buildings are currently static obstacles. To make the world feel more interactive and the combat more chaotic, buildings should take damage and eventually be destroyed.\n    - **Requirements:**\n        - [ ] Update the `Building` entity to have a `health` attribute.\n        - [ ] Create 4-5 sprites representing progressive states of destruction (cracked, holey, crumbling, rubble).\n        - [ ] When `health` reaches 0:\n            - Play an explosion animation.\n            - Change the sprite to \"rubble\" (which might remain an obstacle or become passable).\n            - **Impact:** Reduce the owning faction's reputation/control in that area.\n            - **Reaction:** Have a chance to spawn \"Emergency Response\" enemy units from the faction.\n\n**Section:** Open Tasks",
    "createdAt": "2026-02-08T06:26:44Z",
    "labels": [
      {
        "id": "LA_kwDOPJWUzc8AAAACXZh1rQ",
        "name": "task",
        "description": "",
        "color": "ededed"
      }
    ],
    "number": 67,
    "state": "OPEN",
    "title": "Destructible Buildings",
    "updatedAt": "2026-02-08T06:26:44Z"
  },
  {
    "assignees": [],
    "body": "- **Description:** Currently, all terrain feels roughly the same. We want to differentiate vehicles by their ability to handle different terrain types, making a \"truck\" feel different from a \"sports car.\"\n    - **Requirements:**\n        - [ ] Add an `offroad_rating` (0.0 to 1.0) to the `Vehicle` class.\n        - [ ] Define terrain types in a central constant (e.g., `ROAD`, `GRASS`, `SAND`, `MUD`).\n        - [ ] Update existing terrain generation to assign these types to tiles.\n        - [ ] modify `physics.py` movement logic:\n            - On `ROAD`, speed is normal.\n            - On `ROUGH` terrain (grass/sand), effective speed = `base_speed * (modifier + offroad_rating)`. High offroad cars suffer less penalty.\n            - `MUD`/`SWAMP` should drastically reduce speed and increase fuel consumption.\n\n**Section:** Open Tasks",
    "createdAt": "2026-02-08T06:26:46Z",
    "labels": [
      {
        "id": "LA_kwDOPJWUzc8AAAACXZh1rQ",
        "name": "task",
        "description": "",
        "color": "ededed"
      }
    ],
    "number": 68,
    "state": "OPEN",
    "title": "Off-road Physics & Vehicle Stats",
    "updatedAt": "2026-02-08T06:26:46Z"
  },
  {
    "assignees": [],
    "body": "- **Description:** The world needs more visual and mechanical variety. Factions should be associated with specific biomes.\n    - **Requirements:**\n        - [ ] Implement new terrain tile types with unique colors/characters:\n            - **Grass:** Standard wilderness.\n            - **Desert:** Sand dunes, cacti obstacles.\n            - **Mud/Swamp:** Slow movement, water features.\n        - [ ] Update `WorldGenerator` to create large, coherent biomes rather than random noise.\n        - [ ] Link Factions to Biomes: A \"Desert Rats\" faction should have their cities generated primarily in Desert biomes.\n\n**Section:** Open Tasks",
    "createdAt": "2026-02-08T06:26:48Z",
    "labels": [
      {
        "id": "LA_kwDOPJWUzc8AAAACXZh1rQ",
        "name": "task",
        "description": "",
        "color": "ededed"
      }
    ],
    "number": 69,
    "state": "OPEN",
    "title": "Expanded Biomes & Terrain Generation",
    "updatedAt": "2026-02-08T06:26:48Z"
  },
  {
    "assignees": [],
    "body": "- **Description:** While open-world combat is real-time, major encounters (Quest Bosses, Rival Leaders) should feel momentous. We want a system inspired by JRPGs or Pokemon, but likely still occurring on the main map (or a dedicated modal).\n    - **Requirements:**\n        - [ ] **Proximity Trigger:** When engaging a Boss, lock the camera or restrict movement to a specialized arena.\n        - [ ] **Phase Logic:** Give Bosses defined \"Health Thresholds\" (e.g., at 75%, 50%, 25% HP).\n        - [ ] **Phase Shifts:**\n            - **Phase 1:** Standard attacks.\n            - **Phase 2:** Boss gains a shield or calls minions; dialog appears teasing the player.\n            - **Phase 3:** Boss changes weapon type (e.g., switches from Machine Gun to Rockets) or movement pattern (e.g., charge attacks).\n        - [ ] Implement \"Combat Dialog\" bubbles that appear over the boss during phase transitions.\n\n**Section:** Open Tasks",
    "createdAt": "2026-02-08T06:26:51Z",
    "labels": [
      {
        "id": "LA_kwDOPJWUzc8AAAACXZh1rQ",
        "name": "task",
        "description": "",
        "color": "ededed"
      }
    ],
    "number": 70,
    "state": "OPEN",
    "title": "Phase-Based \"Boss\" Combat System",
    "updatedAt": "2026-02-08T06:26:51Z"
  },
  {
    "assignees": [],
    "body": "Currently the game has a foundational 'World Trigger' system that can detect when a player enters a zone, but it only supports simple dialog notifications.\n\n**Goal:** Transform the world into a 'lived-in' environment with reactive encounters.\n\n**Requirements:**\n- **New Trigger Handlers:** Implement handlers in car/logic/trigger_logic.py for:\n    - combat: Spawns a specific squad of enemies or a mini-boss.\n    - quest: Grants a specific quest or updates an existing one upon entering the zone.\n    - item: Drops a specific piece of loot or adds a 'Narrative Discovery' item to the player's inventory.\n- **Generative Placement:** Update the LLM worker logic (The Cartographer/Storyteller) to generate these triggers in \temp/triggers.json at world startup, based on the theme and factions.\n- **One-Shot vs Persistent:** Ensure 'One-Shot' triggers properly set their flags in game_state.activated_triggers (already partially there, needs verification).\n- **Save System Fix:** Ensure \triggers.json is correctly included in the save_game file copy list.",
    "createdAt": "2026-02-08T06:33:30Z",
    "labels": [
      {
        "id": "LA_kwDOPJWUzc8AAAACXZh1rQ",
        "name": "task",
        "description": "",
        "color": "ededed"
      }
    ],
    "number": 71,
    "state": "OPEN",
    "title": "Expand World Trigger & Narrative Event System",
    "updatedAt": "2026-02-08T06:33:30Z"
  },
  {
    "assignees": [],
    "body": "### Goal\nUpgrade the local LLM engine from \transformers to llama-cpp-python (GGUF) to achieve better performance, lower VRAM usage, and higher reasoning quality.\n\n### Requirements\n- **Llama-cpp Integration:** Replace the current \transformers pipeline in model_loader.py with llama-cpp-python.\n- **Implement Tiered Support:**\n    1. **Low Performance (Default):** Gemma 2 2B (GGUF Q4_K_M). Target: Laptops/Older GPUs.\n    2. **High Performance:** Gemma 2 9B (GGUF Q4_K_M). Target: 8GB+ VRAM/Modern GPUs. Superior JSON adherence and narrative.\n    3. **Ultra (Cloud):** Gemini CLI.\n- **Dynamic Feature Detection:**\n    - Update the Settings screen to check if the gemini CLI is in the system PATH (shutil.which('gemini')).\n    - Disable/Grey out the 'Ultra' option if the tool is not detected.\n- **Model Management:** Automatically handle GGUF model downloading and caching in the models/ directory.",
    "createdAt": "2026-02-08T17:36:40Z",
    "labels": [
      {
        "id": "LA_kwDOPJWUzc8AAAACXZh1rQ",
        "name": "task",
        "description": "",
        "color": "ededed"
      }
    ],
    "number": 72,
    "state": "OPEN",
    "title": "Migration to llama-cpp-python and Tiered LLM Support",
    "updatedAt": "2026-02-08T17:36:40Z"
  },
  {
    "assignees": [],
    "body": "### Goal\nEnsure the 'Living Context Engine' is perfectly tuned for local 8k context windows while maintaining high narrative quality and strict JSON adherence.\n\n### Requirements\n- **Context Audit:** Review prompts/game_context.txt for token efficiency. Ensure core lore is concise.\n- **Prompt Builder Optimization:** Audit car/logic/prompt_builder.py to ensure dynamic data (Faction State, Player Inventory, Narrative History) doesn't overflow the 8k limit of Gemma models.\n- **Narrative Management:** Implement a 'sliding window' or summary mechanism for \narrative_history if the list of completed quests becomes too long.\n- **Reasoning Guards:** Refine JSON schema instructions in all templates to minimize reasoning overhead for the smaller 2B model.",
    "createdAt": "2026-02-08T17:36:50Z",
    "labels": [
      {
        "id": "LA_kwDOPJWUzc8AAAACXZh1rQ",
        "name": "task",
        "description": "",
        "color": "ededed"
      }
    ],
    "number": 73,
    "state": "OPEN",
    "title": "LLM Prompt & Context System Audit",
    "updatedAt": "2026-02-08T17:36:50Z"
  },
  {
    "assignees": [],
    "body": "Ran into issue with PIP, our install script just failed a step and didn't tell us to install pip or how to install it. \n\nWe should give a list of dependencies when we fail the install, and how to install them and so on. ",
    "createdAt": "2026-02-08T19:22:49Z",
    "labels": [],
    "number": 74,
    "state": "OPEN",
    "title": "[Install] Install script needs better errors.",
    "updatedAt": "2026-02-08T19:22:49Z"
  }
]