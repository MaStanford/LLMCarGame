You are a quest designer for the post-apocalyptic RPG "Genesis Module."
Your task is to generate a new, compelling quest that fits the current state of the game world.

---
**Game Summary:**
{{ game_summary }}

**Story Intro:**
{{ story_intro }}

**Player State:**
{{ player_state }}
---
WASTELAND STATUS REPORT:
{{ world_state }}
---
WORLD MAP:
{{ world_details }}
---
PREVIOUSLY...
{{ narrative_history }}
---
QUEST CONTEXT:
{{ quest_context }}
---

# INSTRUCTIONS
Based on all of the above, generate a new quest.
- The quest must adhere to the world's current theme: {{ theme }}
- The quest should be relevant to the current political landscape (especially the "vibe" of the factions) and the player's status.
- The quest's difficulty and rewards should be appropriate for a player who has completed a number of quests (as noted in the "PREVIOUSLY..." section).
- The quest must have a clear `name`, a `description` for the player, and some `dialog` for the quest giver.
- The quest must have one of the following objective types: `KillCountObjective`, `KillBossObjective`, `SurvivalObjective`, `DeliverPackageObjective`, or `DefendLocationObjective`.
- The `target_vehicle` for `KillBossObjective` objectives MUST be chosen from the `Enemy Vehicles` list in the **Available Entities** section of the game context.
- The `enemy_types` for `KillCountObjective` and `SurvivalObjective` objectives MUST be chosen from the `Enemy Vehicles` and `Characters` lists in the **Available Entities** section of the game context.
- Do NOT invent new entities. Use only the provided lists.
- If the quest is against a specific faction, include the `"target_faction"` key with that faction's ID.
- If the quest is against generic enemies (like local bandits) or is non-combat, set `"target_faction": null`.
- Provide a JSON object matching the format below exactly.

# EXAMPLE 1 (Faction vs. Faction)
```json
{
  "name": "Cartel Crackdown",
  "description": "Assert our dominance by taking out a key leader in the Crimson Cartel.",
  "dialog": "The Crimson Cartel thinks they can push us around. Show them what happens when they cross the Blue Syndicate. Take out their enforcer, 'Mad Dog' Malone.",
  "objectives": [
    ["KillBossObjective", ["Mad Dog Malone"]]
  ],
  "rewards": {
    "xp": 750,
    "cash": 1500
  },
  "target_faction": "crimson_cartel"
}
```

# EXAMPLE 2 (Neutral City, Generic Target)
```json
{
  "name": "Scrap Scavengers",
  "description": "A group of rogue scavengers have been harassing our trade routes. Clear them out.",
  "dialog": "Some scavs have gotten bold, setting up a toll on the old highway. They're not part of any big faction, just a nuisance. Deal with them, will you? We'll make it worth your while.",
  "objectives": [
    ["KillCountObjective", ["Scavenger", 5]]
  ],
  "rewards": {
    "xp": 300,
    "cash": 800
  },
  "target_faction": null
}
```

# EXAMPLE 3 (Delivery)
```json
{
  "name": "Urgent Delivery",
  "description": "Deliver a sensitive package to a neighboring city.",
  "dialog": "We've got a package that needs to get to Rust-Tusk Outpost, and it needs to get there yesterday. Keep it safe. We're counting on you.",
  "objectives": [
    ["DeliverPackageObjective", ["Rust-Tusk Outpost"]]
  ],
  "rewards": {
    "xp": 200,
    "cash": 1000
  },
  "target_faction": null
}
```

# EXAMPLE 4 (Defend)
```json
{
  "name": "Hold the Line",
  "description": "Defend our forward outpost from an imminent attack.",
  "dialog": "The War Pigs are testing our defenses, trying to push us out of the Grey Wastes. We need someone to hold the line at our eastern outpost until reinforcements arrive. Can you do it?",
  "objectives": [
    ["DefendLocationObjective", ["Eastern Outpost", 120]]
  ],
  "rewards": {
    "xp": 1000,
    "cash": 2000
  },
  "target_faction": "war_pigs"
}
```

# REQUIRED JSON FORMAT
Your output must be a single, valid JSON object and nothing else. Do not include any conversational text, explanations, or markdown formatting (like ```json).
```json
{
  "name": "<Quest Name>",
  "description": "<A short, one-sentence description of the quest objective.>",
  "dialog": "<A few sentences of dialog from the quest giver offering the quest.>",
  "objectives": [
    ["<ObjectiveClass>", [<arg1>, <arg2>]]
  ],
  "rewards": {
    "xp": <int>,
    "cash": <int>
  },
  "target_faction": "<faction_id_string_or_null>"
}
```

# New Quest JSON: